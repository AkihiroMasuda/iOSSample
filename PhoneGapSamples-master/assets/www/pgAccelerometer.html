<!DOCTYPE HTML>
<html>
<head>
<title>Cordova </title>
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />
<script type="text/javascript" src="js/jquery-2.0.3.min.js"></script>
<script type="text/javascript" src="js/jquery.mobile-1.3.1.min.js"></script>
<script type="text/javascript" src="js/cordova.js"></script>
<!--
<script src="http://192.168.1.253:8080/target/target-script-min.js#hogehoge"></script>
-->
<script type="text/javascript" charset="utf-8" >
	//Wait for device API libraries to load
	//
	document.addEventListener("deviceready", onDeviceReady, false);
	
	// device APIs are available
	//
	function onDeviceReady() {
	    // Update acceleration every 3 seconds
	    var options = { frequency: 200 };
	    watchID = navigator.accelerometer.watchAcceleration(onSuccess, onError, options);        
	}
	
	// onSuccess: Get a snapshot of the current acceleration
	//
	function onSuccess(acceleration) {
	    $('#val_x').text('Acc X:' + acceleration.x);
	    $('#val_y').text('Acc Y:' + acceleration.y);
	    $('#val_z').text('Acc Z:' + acceleration.z);
	    $('#val_ts').text('Timestamp:' + acceleration.timestamp);
	}
	
	// onError: Failed to get the acceleration
	//
	function onError() {
	//    alert('onError!');
	}
	
	
	// Wait for device API libraries to load
	//
	function onLoad(){
	//	alert("onLoad");
	//    setInterval("getAccel()", 1000);
	}
	
	function getAccel(){
	    navigator.accelerometer.getCurrentAcceleration(onSuccess, onError);
	}
</script>
</head>

<body onLoad="onLoad()">
    <div data-role="page" id="home">
        <div data-role="header">
            <h1>Accelerometer</h1>
            <a href="" data-rel="back">Back</a> <!-- 戻るボタン -->
        </div>
        <div data-role="content">
            <h3 id="val_x"></h3><tr>
            <h3 id="val_y"></h3><tr>
            <h3 id="val_z"></h3><tr>
            <h3 id="val_ts"></h3>
        </div>
        <div data-role="footer">
            <h4>Copyright 2013</h4>
        </div>
    </div>
</body>
</html>
